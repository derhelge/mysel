# default Konfiguration aus Auslieferungszustand
# docker compose -f docker/dev/docker-compose.dev.yml exec freeradius cat /etc/raddb/mods-available/sql > docker/dev/freeradius/raddb/mods-available/sql
# grep -v -E '^[[:space:]]*(#|$)' docker/dev/freeradius/raddb/mods-available/sql > docker/dev/freeradius/raddb/mods-enabled/sql
# dialect = "postgresql"
# driver = "rlm_sql_${dialect}"
# radius_db = "dbname=radius host=localhost port=5432 user=radius password=radpass"
sql {
	dialect = "postgresql"
	driver = "rlm_sql_${dialect}"

	postgresql {
		send_application_name = yes
	}
	radius_db = "dbname=radius host=postgres_radius port=5432 user=radius password=radpass"
	acct_table1 = "radacct"
	acct_table2 = "radacct"
	postauth_table = "radpostauth"
	authcheck_table = "radcheck"
	groupcheck_table = "radgroupcheck"
	authreply_table = "radreply"
	groupreply_table = "radgroupreply"
	usergroup_table = "radusergroup"
	delete_stale_sessions = yes
	pool {
		start = ${thread[pool].start_servers}
		min = ${thread[pool].min_spare_servers}
		max = ${thread[pool].max_servers}
		spare = ${thread[pool].max_spare_servers}
		uses = 0
		retry_delay = 30
		lifetime = 0
		idle_timeout = 60
		max_retries = 5
	}
	client_table = "nas"
	group_attribute = "SQL-Group"
	$INCLUDE ${modconfdir}/${.:name}/main/${dialect}/queries.conf
}
